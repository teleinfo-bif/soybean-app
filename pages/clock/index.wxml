<!-- pages/block/index.wxml -->
<view class="page">
  <block wx:if="{{clocked}}">
    <view class="shade"></view>
    <view class="block-success" hover-class="none" hover-stop-propagation="false">
      <view class="block-record" hover-class="none" hover-stop-propagation="false">
        <navigator class="block-success color" target="" url="/pages/clockRecords/index?userId={{otherId || userFilledInfo.id}}" hover-class="navigator-hover" open-type="navigate">
          打卡记录
        </navigator>
      </view>
      <!-- 打卡状态-确诊 -->
      <block wx:if="{{ data.comfirmed == 2}}">
        <view class="block-success_icon">
          <image mode="aspectFit" src="../../static/images/success_red@3x.png" alt="已打卡" />
        </view>
        <view class="block-success_text">您已确诊，请积极配合治疗，祝您早日康复</view>
      </block>
      <!-- 打卡状态-异常 -->
      <block wx:elif="{{data.healthy != 1 || data.admitting == 2}}">
        <view class="block-success_icon">
          <image mode="aspectFit" src="../../static/images/success_yellow@3x.png" alt="已打卡" />
        </view>
        <view class="block-success_text">今日健康异常，请您注意隔离，多加防护</view>
      </block>
      <!-- 打卡状态-正常 -->
      <block wx:else>
        <view class="block-success_icon">
          <image mode="aspectFit" src="../../static/images/success_green@3x.png" alt="已打卡" />
        </view>
        <view class="block-success_text">今日健康良好，请您继续注意健康防护</view>
      </block>
    </view>
  </block>
  <block wx:if="{{clocked != null}}">
    <!-- <view class="form-header">健康打卡</view> -->
    <my-form id="form" fields="{{fields}}" formData="{{data}}" bind:baseAddress="onChangeBaseAddress" bind:change="onFormChange"></my-form>
    <!-- 证件类型 -->
    <view wx:if="{{!clocked}}" class="btn-wrap">
      <!-- <van-button bindtap="formCancel" size="normal" custom-class="form-btn">重 置</van-button> -->
      <!-- <view style="width: 35rpx;"></view> -->
      <van-button bindtap="formSubmit" size="normal" color="#1759EF" custom-class="form-btn" block>
        提 交
      </van-button>
    </view>
  </block>
</view>