{"version":3,"sources":["url-parameter-append.js","object-entries.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar object_entries_1 = require(\"./object-entries\");\nvar flatten = function (args) { return object_entries_1.entries(args).reduce(function (acc, item) { return __spreadArrays(acc, item); }, []); };\n/**\n * Add, update or remove querystring parameters.\n * @param {string} url\n * @param {...string|object} args\n * @return {string}\n */\nfunction urlParameterAppend(url) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (args[0] && typeof args[0] === 'object') {\n        return urlParameterAppend.call.apply(urlParameterAppend, __spreadArrays([null,\n            url], flatten(args[0])));\n    }\n    // tslint:disable-next-line:prefer-const\n    var _a = ((url !== null && url !== void 0 ? url : '')).split('#'), modifiedUrl = _a[0], fragment = _a.slice(1);\n    for (var i = 0; i < args.length; i += 2) {\n        var param = args[i];\n        var value = args[i + 1];\n        // add / update\n        var firstParamRx = new RegExp(\"([?])\" + param + \"=([^&#]*)(&)\", 'i');\n        var secondParamRx = new RegExp(\"([?&])\" + param + \"=([^&#]*)\", 'i');\n        var hasValue = !(value === null || value === undefined || value === '');\n        if (firstParamRx.exec(modifiedUrl)) {\n            modifiedUrl = hasValue\n                ? modifiedUrl.replace(firstParamRx, \"$1\" + param + \"=\" + value + \"$3\")\n                : modifiedUrl.replace(firstParamRx, '?');\n        }\n        else if (secondParamRx.exec(modifiedUrl)) {\n            modifiedUrl = hasValue\n                ? modifiedUrl.replace(secondParamRx, \"$1\" + param + \"=\" + value)\n                : modifiedUrl.replace(secondParamRx, '');\n        }\n        else if (hasValue) {\n            modifiedUrl = \"\" + modifiedUrl + ((modifiedUrl.indexOf('?') < 0 ? '?' : '&') + param) + \"=\" + value;\n        }\n    }\n    return \"\" + modifiedUrl + (fragment.length ? \"#\" + fragment.join('#') : '');\n}\nexports.default = urlParameterAppend;\nmodule.exports = urlParameterAppend;\n","\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Backwards compatibility for Object.entries function.\n */\n/* istanbul ignore next */\nexports.entries = typeof Object.entries === 'undefined'\n    ? function (obj) { return Object.keys(obj).map(function (key) { return [key, obj[key]]; }); }\n    : Object.entries;\n"]}